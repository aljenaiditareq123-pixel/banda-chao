# ğŸ”§ Ø¯Ù„ÙŠÙ„ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© - Environment Variables Guide

## Frontend Environment Variables

### ÙÙŠ Vercel Dashboard:
```bash
# Backend API Configuration
NEXT_PUBLIC_API_URL=https://banda-chao.onrender.com/api/v1
NEXT_PUBLIC_BACKEND_URL=https://banda-chao.onrender.com
NEXT_PUBLIC_SOCKET_URL=https://banda-chao.onrender.com

# WebSocket Control (IMPORTANT: set to 'false' in production)
NEXT_PUBLIC_ENABLE_WEBSOCKET=false

# Stripe (Optional - for payments)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Environment
NODE_ENV=production
```

### ÙÙŠ Development (.env.local):
```bash
# Backend API Configuration
NEXT_PUBLIC_API_URL=http://localhost:3001/api/v1
NEXT_PUBLIC_BACKEND_URL=http://localhost:3001
NEXT_PUBLIC_SOCKET_URL=http://localhost:3001

# WebSocket Control (enable in development)
NEXT_PUBLIC_ENABLE_WEBSOCKET=true

# Stripe (Optional - for payments)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Environment
NODE_ENV=development
```

## Backend Environment Variables

### ÙÙŠ Render Dashboard:
```bash
# Database
DATABASE_URL=postgresql://...  # Auto-generated by Render PostgreSQL

# Environment
NODE_ENV=production

# Authentication
JWT_SECRET=your-super-secret-jwt-key-here-make-it-long-and-random
JWT_EXPIRES_IN=7d

# AI Service
GEMINI_API_KEY=AIzaSyC...HBK0
GEMINI_MODEL=gemini-1.5-flash

# CORS & Frontend
FRONTEND_URL=https://banda-chao.vercel.app

# Founder Access
FOUNDER_EMAIL=your-email@example.com

# Payments (Optional)
STRIPE_SECRET_KEY=sk_test_51...
STRIPE_WEBHOOK_SECRET=whsec_...

# Port (Auto-set by Render)
PORT=10000
```

## ğŸš¨ Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø© ÙˆØ­Ù„ÙˆÙ„Ù‡Ø§

### 1. WebSocket Errors ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: `ws://localhost:3001` errors ÙÙŠ production console

**Ø§Ù„Ø­Ù„**:
```bash
# ÙÙŠ Vercel Environment Variables:
NEXT_PUBLIC_ENABLE_WEBSOCKET=false
```

### 2. 401 Unauthorized Ù…Ù† API
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Frontend Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù€ API

**Ø§Ù„Ø­Ù„**:
```bash
# ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† URLs ØµØ­ÙŠØ­Ø© ÙÙŠ Vercel:
NEXT_PUBLIC_API_URL=https://banda-chao.onrender.com/api/v1
# ÙˆÙ„ÙŠØ³:
# NEXT_PUBLIC_API_URL=https://banda-chao-backend.onrender.com/api/v1
```

### 3. Manifest Icon Errors
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: `icon-192.png not found`

**Ø§Ù„Ø­Ù„**: ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙÙŠ `public/` folder

### 4. CORS Errors
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: CORS policy blocked

**Ø§Ù„Ø­Ù„**:
```bash
# ÙÙŠ Render Backend Environment Variables:
FRONTEND_URL=https://banda-chao.vercel.app
# Ø£Ùˆ Ø¥Ø°Ø§ ÙƒØ§Ù† Frontend Ø¹Ù„Ù‰ Render:
# FRONTEND_URL=https://banda-chao-frontend.onrender.com
```

## ğŸ“‹ Checklist Ù„Ù„Ù†Ø´Ø±

### Frontend (Vercel):
- [ ] `NEXT_PUBLIC_API_URL` ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Backend Ø§Ù„ØµØ­ÙŠØ­
- [ ] `NEXT_PUBLIC_ENABLE_WEBSOCKET=false` ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
- [ ] `NODE_ENV=production`
- [ ] Redeploy Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Environment Variables

### Backend (Render):
- [ ] `DATABASE_URL` Ù…ØªØµÙ„ Ø¨Ù€ PostgreSQL
- [ ] `GEMINI_API_KEY` ØµØ­ÙŠØ­ ÙˆÙ…ÙØ¹Ù„
- [ ] `FRONTEND_URL` ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Frontend Ø§Ù„ØµØ­ÙŠØ­
- [ ] `JWT_SECRET` Ù‚ÙˆÙŠ ÙˆØ¢Ù…Ù†
- [ ] Redeploy Ø¨Ø¹Ø¯ ØªØ­Ø¯ÙŠØ« Environment Variables

## ğŸ”„ Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ­Ø¯ÙŠØ«

1. **ØªØ­Ø¯ÙŠØ« Vercel Environment Variables**:
   - Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Vercel Dashboard
   - Ø§Ø®ØªØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ â†’ Settings â†’ Environment Variables
   - Ø­Ø¯Ù‘Ø« Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
   - Ø§Ù†Ù‚Ø± "Redeploy" ÙÙŠ Deployments tab

2. **ØªØ­Ø¯ÙŠØ« Render Environment Variables**:
   - Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Render Dashboard
   - Ø§Ø®ØªØ± Backend Service â†’ Environment
   - Ø­Ø¯Ù‘Ø« Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
   - Render Ø³ÙŠÙØ¹ÙŠØ¯ Ø§Ù„Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

3. **Clear Browser Cache**:
   - Hard Reload: `Ctrl+Shift+R` (Windows) Ø£Ùˆ `Cmd+Shift+R` (Mac)
   - Ø£Ùˆ Ø§ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø®Ø§ØµØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±

## âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­

Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«ØŒ ÙŠØ¬Ø¨ Ø£Ù† ØªØ®ØªÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡:
- âŒ `ws://localhost:3001` WebSocket errors
- âŒ `401 Unauthorized` Ù…Ù† `/api/v1/users`
- âŒ `icon-192.png not found`
- âŒ CORS policy errors

ÙˆØªØ¹Ù…Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø§Øª:
- âœ… Founder Console ÙŠØ­Ù…Ù„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
- âœ… AI Assistant ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡
- âœ… PWA manifest ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† ØªØ­Ø°ÙŠØ±Ø§Øª
- âœ… Ù„Ø§ ØªÙˆØ¬Ø¯ console errors ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬
