# ๐ ุฏููู ุงููุดุฑ ุงูููุงุฆู ุนูู Render
## Final Deployment Setup Guide for Banda Chao

**ุงูุชุงุฑูุฎ:** $(date)  
**ุงูุญุงูุฉ:** โณ ุฌุงูุฒ ูููุดุฑ  
**ุงูุฎุทูุฉ:** ุฅุนุฏุงุฏ Environment Variables ูุจุฏุก ุงููุดุฑ

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุฑุดุฏู ุฎุทูุฉ ุจุฎุทูุฉ ูุฅุนุฏุงุฏ ุฌููุน ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู Render ูุจุฏุก ุงููุดุฑ ุงูููุงุฆู ูููุดุฑูุน.

---

## โ๏ธ ูุชุทูุจุงุช ูุจู ุงูุจุฏุก

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุฃู ูุฏูู:

1. โ ุญุณุงุจ Render ูุดุท
2. โ ุฎุฏูุฉ Backend ููุฌูุฏุฉ (banda-chao-backend)
3. โ ุฎุฏูุฉ Frontend ููุฌูุฏุฉ (banda-chao-frontend)
4. โ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ุนูู Render
5. โ ุญุณุงุจ Stripe ูุน Production Keys
6. โ ููุชุงุญ Google Gemini API (ุงุฎุชูุงุฑู)

---

## ๐ ุงูุฎุทูุฉ 1: ุฌูุน ุงููุนูููุงุช ุงููุทููุจุฉ

ูุจู ุงูุจุฏุกุ ุณุชุญุชุงุฌ ุฅูู ุฌูุน ุงูููู ุงูุชุงููุฉ:

### 1.1 ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **DATABASE_URL**: ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช PostgreSQL ูู Render
  - ุงุฐูุจ ุฅูู Render Dashboard โ Database โ PostgreSQL
  - ุงูุณุฎ "Internal Database URL" ุฃู "External Database URL"
  - ูุซุงู: `postgresql://user:password@host:port/database`

### 1.2 ููุชุงุญ JWT ุงูุณุฑู
- **JWT_SECRET**: ููุชุงุญ ุณุฑู ููู (32+ ุญุฑู ุนุดูุงุฆู)
  - ููููู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู:
    ```bash
    openssl rand -base64 32
    ```
  - ุฃู ุงุณุชุฎุฏู ูููุฏ ูููุงุช ูุฑูุฑ ุนุดูุงุฆูุฉ

### 1.3 ููุงุชูุญ Stripe ููุฅูุชุงุฌ
- **STRIPE_SECRET_KEY**: ููุชุงุญ Stripe ุงูุณุฑู ููุฅูุชุงุฌ (ูุจุฏุฃ ุจู `sk_live_`)
  - ุงุฐูุจ ุฅูู Stripe Dashboard โ Developers โ API keys
  - ุงูุณุฎ "Secret key" ูู ูุณู "Live mode"
- **STRIPE_PUBLISHABLE_KEY**: ููุชุงุญ Stripe ุงูุนููู ููุฅูุชุงุฌ (ูุจุฏุฃ ุจู `pk_live_`)
  - ุงูุณุฎ "Publishable key" ูู ูุณู "Live mode"

### 1.4 ููุชุงุญ Gemini API (ุงุฎุชูุงุฑู)
- **GEMINI_API_KEY**: ููุชุงุญ Google Gemini API
  - ุงุฐูุจ ุฅูู Google AI Studio โ Get API Key
  - ุงูุณุฎ ุงูููุชุงุญ

### 1.5 ุฑูุงุจุท ุงูุฎุฏูุงุช
- **FRONTEND_URL**: ุฑุงุจุท Frontend ุนูู Render
  - ูุซุงู: `https://banda-chao.onrender.com`
- **NEXT_PUBLIC_API_URL**: ุฑุงุจุท Backend ุนูู Render
  - ูุซุงู: `https://banda-chao-backend.onrender.com`

---

## ๐ง ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ูุชุบูุฑุงุช Backend

### 2.1 ุงููุตูู ุฅูู Render Dashboard
1. ุงุฐูุจ ุฅูู: https://dashboard.render.com
2. ุณุฌู ุงูุฏุฎูู ุฅูู ุญุณุงุจู
3. ุงุฎุชุฑ ุฎุฏูุฉ **banda-chao-backend** (ุฃู ุงุณู ุฎุฏูุฉ Backend ุงูุฎุงุตุฉ ุจู)

### 2.2 ูุชุญ ูุณู Environment
1. ูู ุตูุญุฉ ุงูุฎุฏูุฉุ ุงุถุบุท ุนูู **"Environment"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุณุชุฌุฏ ูุงุฆูุฉ ุจุฌููุน Environment Variables ุงูุญุงููุฉ

### 2.3 ุฅุถุงูุฉ/ุชุญุฏูุซ ุงููุชุบูุฑุงุช

ุฃุถู ุฃู ุญุฏุซ ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

#### ูุชุบูุฑุงุช ูุทููุจุฉ (Required):

| ุงููุชุบูุฑ | ุงููููุฉ | ููุงุญุธุงุช |
|---------|--------|---------|
| `DATABASE_URL` | `postgresql://...` | ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู Render |
| `JWT_SECRET` | `[ููุชุงุญ ููู 32+ ุญุฑู]` | ููุชุงุญ JWT ุงูุณุฑู |
| `STRIPE_SECRET_KEY` | `sk_live_...` | ููุชุงุญ Stripe ุงูุณุฑู ููุฅูุชุงุฌ |
| `STRIPE_PUBLISHABLE_KEY` | `pk_live_...` | ููุชุงุญ Stripe ุงูุนููู ููุฅูุชุงุฌ |
| `STRIPE_MODE` | `production` | ูุถุน Stripe (ูุฌุจ ุฃู ูููู `production`) |
| `FRONTEND_URL` | `https://banda-chao.onrender.com` | ุฑุงุจุท Frontend (ูู CORS) |
| `PORT` | `3001` | ูููุฐ ุงูุฎุงุฏู (ุงุฎุชูุงุฑูุ Render ูุถุจุทู ุชููุงุฆูุงู) |
| `NODE_ENV` | `production` | ุจูุฆุฉ Node.js |

#### ูุชุบูุฑุงุช ุงุฎุชูุงุฑูุฉ (Optional):

| ุงููุชุบูุฑ | ุงููููุฉ | ููุงุญุธุงุช |
|---------|--------|---------|
| `GEMINI_API_KEY` | `[ููุชุงุญ Gemini]` | ููุชุงุญ Google Gemini API (AI features) |
| `JWT_EXPIRES_IN` | `24h` | ูุฏุฉ ุตูุงุญูุฉ JWT (ุงูุชุฑุงุถู: `7d`) |

### 2.4 ุฎุทูุงุช ุงูุฅุถุงูุฉ
1. ุงุถุบุท ุนูู **"Add Environment Variable"** ุฃู **"Add"**
2. ุฃุฏุฎู ุงุณู ุงููุชุบูุฑ ูู ุญูู **"Key"**
3. ุฃุฏุฎู ุงููููุฉ ูู ุญูู **"Value"**
4. ุงุถุบุท **"Save Changes"**
5. ูุฑุฑ ุงูุนูููุฉ ูุฌููุน ุงููุชุบูุฑุงุช

### 2.5 ุงูุชุญูู ูู ุงููุชุบูุฑุงุช
ุจุนุฏ ุฅุถุงูุฉ ุฌููุน ุงููุชุบูุฑุงุชุ ุชุฃูุฏ ูู:
- โ `DATABASE_URL` ููุฌูุฏ ูุตุญูุญ
- โ `JWT_SECRET` ููุฌูุฏ ูููู (32+ ุญุฑู)
- โ `STRIPE_SECRET_KEY` ูุจุฏุฃ ุจู `sk_live_`
- โ `STRIPE_PUBLISHABLE_KEY` ูุจุฏุฃ ุจู `pk_live_`
- โ `STRIPE_MODE` = `production`
- โ `FRONTEND_URL` ุตุญูุญ

---

## ๐จ ุงูุฎุทูุฉ 3: ุฅุนุฏุงุฏ ูุชุบูุฑุงุช Frontend

### 3.1 ุงููุตูู ุฅูู Render Dashboard
1. ุงุฐูุจ ุฅูู: https://dashboard.render.com
2. ุงุฎุชุฑ ุฎุฏูุฉ **banda-chao-frontend** (ุฃู ุงุณู ุฎุฏูุฉ Frontend ุงูุฎุงุตุฉ ุจู)

### 3.2 ูุชุญ ูุณู Environment
1. ูู ุตูุญุฉ ุงูุฎุฏูุฉุ ุงุถุบุท ุนูู **"Environment"** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุณุชุฌุฏ ูุงุฆูุฉ ุจุฌููุน Environment Variables ุงูุญุงููุฉ

### 3.3 ุฅุถุงูุฉ/ุชุญุฏูุซ ุงููุชุบูุฑุงุช

ุฃุถู ุฃู ุญุฏุซ ุงููุชุบูุฑุงุช ุงูุชุงููุฉ:

#### ูุชุบูุฑุงุช ูุทููุจุฉ (Required):

| ุงููุชุบูุฑ | ุงููููุฉ | ููุงุญุธุงุช |
|---------|--------|---------|
| `NEXT_PUBLIC_API_URL` | `https://banda-chao-backend.onrender.com` | ุฑุงุจุท Backend API |
| `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` | `pk_live_...` | ููุชุงุญ Stripe ุงูุนููู ููุฅูุชุงุฌ |

### 3.4 ุฎุทูุงุช ุงูุฅุถุงูุฉ
1. ุงุถุบุท ุนูู **"Add Environment Variable"** ุฃู **"Add"**
2. ุฃุฏุฎู ุงุณู ุงููุชุบูุฑ ูู ุญูู **"Key"**
3. ุฃุฏุฎู ุงููููุฉ ูู ุญูู **"Value"**
4. ุงุถุบุท **"Save Changes"**
5. ูุฑุฑ ุงูุนูููุฉ ูุฌููุน ุงููุชุบูุฑุงุช

### 3.5 ุงูุชุญูู ูู ุงููุชุบูุฑุงุช
ุจุนุฏ ุฅุถุงูุฉ ุฌููุน ุงููุชุบูุฑุงุชุ ุชุฃูุฏ ูู:
- โ `NEXT_PUBLIC_API_URL` ุตุญูุญ ููุดูุฑ ุฅูู Backend
- โ `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` ูุจุฏุฃ ุจู `pk_live_`

---

## ๐ ุงูุฎุทูุฉ 4: ุจุฏุก ุงููุดุฑ

### 4.1 ูุดุฑ Backend ุฃููุงู
1. ุงุฐูุจ ุฅูู ุฎุฏูุฉ **banda-chao-backend**
2. ุงุถุบุท ุนูู **"Manual Deploy"** ูู ุงููุงุฆูุฉ ุงูุนูููุฉ
3. ุงุฎุชุฑ **"Deploy latest commit"**
4. ุงุถุบุท **"Deploy"**
5. ุงูุชุธุฑ ุญุชู ููุชูู ุงููุดุฑ (ุนุงุฏุฉ 5-10 ุฏูุงุฆู)

### 4.2 ุงูุชุญูู ูู Backend
ุจุนุฏ ุงูุชูุงู ูุดุฑ Backend:
1. ุงุฐูุจ ุฅูู ูุณู **"Logs"** ูู Render
2. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
3. ุฌุฑุจ ุงููุตูู ุฅูู: `https://banda-chao-backend.onrender.com/api/v1/health` (ุฅู ูุฌุฏ)
4. ุชุฃูุฏ ูู ุฃู ุงูุฎุฏูุฉ ุชุนูู ุจุดูู ุตุญูุญ

### 4.3 ูุดุฑ Frontend
1. ุงุฐูุจ ุฅูู ุฎุฏูุฉ **banda-chao-frontend**
2. ุงุถุบุท ุนูู **"Manual Deploy"** ูู ุงููุงุฆูุฉ ุงูุนูููุฉ
3. ุงุฎุชุฑ **"Deploy latest commit"**
4. ุงุถุบุท **"Deploy"**
5. ุงูุชุธุฑ ุญุชู ููุชูู ุงููุดุฑ (ุนุงุฏุฉ 5-10 ุฏูุงุฆู)

### 4.4 ุงูุชุญูู ูู Frontend
ุจุนุฏ ุงูุชูุงู ูุดุฑ Frontend:
1. ุงุฐูุจ ุฅูู ูุณู **"Logs"** ูู Render
2. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
3. ุฌุฑุจ ุงููุตูู ุฅูู ุฑุงุจุท Frontend
4. ุชุฃูุฏ ูู ุฃู ุงููููุน ูุนูู ุจุดูู ุตุญูุญ

---

## โ ุงูุฎุทูุฉ 5: ุงูุชุญูู ุงูููุงุฆู

### 5.1 ุงุฎุชุจุงุฑ ุงููููุน
1. ุงูุชุญ ุฑุงุจุท Frontend ูู ุงููุชุตูุญ
2. ุฌุฑุจ ุชุณุฌูู ุงูุฏุฎูู
3. ุฌุฑุจ ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ
4. ุฌุฑุจ ุชุตูุญ ุงูุตูุญุงุช ุงููุฎุชููุฉ
5. ุฌุฑุจ ุนูููุฉ ุงูุฏูุน (ูุน Stripe Test Mode ุฃููุงู)

### 5.2 ุงูุชุญูู ูู ุงูุฃุฎุทุงุก
1. ุงูุชุญ **Developer Console** ูู ุงููุชุตูุญ (F12)
2. ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก JavaScript
3. ุชุญูู ูู **Network** tab ููุชุฃูุฏ ูู ุฃู API calls ุชุนูู
4. ุฑุงุฌุน **Logs** ูู Render ููุชุญูู ูู ุฃุฎุทุงุก Backend

### 5.3 ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุญุฑุฌุฉ
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุนูู
- [ ] ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ูุนูู
- [ ] ุตูุญุงุช ุงูุญุฑูููู ูุงูููุชุฌุงุช ุชุนูู
- [ ] ุนูููุฉ ุงูุฏูุน ุชุนูู (ูุน Stripe)
- [ ] ููุญุฉ ุชุญูู ุงููุคุณุณ ุชุนูู
- [ ] AI Assistant ูุนูู (ุฅู ูุงู `GEMINI_API_KEY` ููุฌูุฏ)

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: Backend ูุง ูุจุฏุฃ
**ุงูุญู:**
1. ุชุญูู ูู `DATABASE_URL` ูู Environment Variables
2. ุชุญูู ูู `JWT_SECRET` ููุฌูุฏ
3. ุฑุงุฌุน Logs ูู Render ููุชุญูู ูู ุงูุฃุฎุทุงุก

### ูุดููุฉ: Frontend ูุง ูุจูู
**ุงูุญู:**
1. ุชุญูู ูู `NEXT_PUBLIC_API_URL` ูู Environment Variables
2. ุชุญูู ูู `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` ููุฌูุฏ
3. ุฑุงุฌุน Logs ูู Render ููุชุญูู ูู ุฃุฎุทุงุก ุงูุจูุงุก

### ูุดููุฉ: ุชุณุฌูู ุงูุฏุฎูู ูุง ูุนูู
**ุงูุญู:**
1. ุชุญูู ูู `JWT_SECRET` ูู Backend Environment Variables
2. ุชุญูู ูู `DATABASE_URL` ุตุญูุญ
3. ุฑุงุฌุน Logs ูู Render ููุชุญูู ูู ุฃุฎุทุงุก Authentication

### ูุดููุฉ: ุงูุฏูุน ูุง ูุนูู
**ุงูุญู:**
1. ุชุญูู ูู `STRIPE_SECRET_KEY` ู `STRIPE_PUBLISHABLE_KEY` ูู Backend
2. ุชุญูู ูู `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` ูู Frontend
3. ุชุญูู ูู `STRIPE_MODE` = `production`
4. ุฑุงุฌุน Logs ูู Render ููุชุญูู ูู ุฃุฎุทุงุก Stripe

---

## ๐ Checklist ุงูููุงุฆู

### ูุจู ุงููุดุฑ:
- [ ] ุฌูุน ุฌููุน ุงูููู ุงููุทููุจุฉ (DATABASE_URL, JWT_SECRET, Stripe Keys, etc.)
- [ ] ุฅุถุงูุฉ ุฌููุน Environment Variables ูู Backend
- [ ] ุฅุถุงูุฉ ุฌููุน Environment Variables ูู Frontend
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงูููู

### ุฃุซูุงุก ุงููุดุฑ:
- [ ] ูุดุฑ Backend ุฃููุงู
- [ ] ุงูุชุญูู ูู ูุฌุงุญ ูุดุฑ Backend
- [ ] ูุดุฑ Frontend
- [ ] ุงูุชุญูู ูู ูุฌุงุญ ูุดุฑ Frontend

### ุจุนุฏ ุงููุดุฑ:
- [ ] ุงุฎุชุจุงุฑ ุงููููุน ุจุดูู ุดุงูู
- [ ] ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู Console
- [ ] ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุญุฑุฌุฉ
- [ ] ูุฑุงูุจุฉ Logs ูู Render

---

## ๐ ุชูุงูููุง!

ุจุนุฏ ุฅููุงู ุฌููุน ุงูุฎุทูุงุชุ ุณูููู ูููุน **Banda Chao** ูุชุงุญุงู ุนูู ุงูุฅูุชุฑูุช!

**ุงูุฎุทูุฉ ุงูุชุงููุฉ:**
- ูุฑุงูุจุฉ ุงููููุน ููุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
- ุฌูุน ููุงุญุธุงุช ุงููุณุชุฎุฏููู
- ุฅุถุงูุฉ ุชุญุณููุงุช ุญุณุจ ุงูุญุงุฌุฉ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุฑุงุฌุน ูุณู **"ุงุณุชูุดุงู ุงูุฃุฎุทุงุก"** ุฃุนูุงู
2. ุฑุงุฌุน Logs ูู Render
3. ุฑุงุฌุน ููู `PRE_DEPLOYMENT_SECURITY_AUDIT.md` ููุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช

---

**๐ ุชุงุฑูุฎ ุงูุฅูุดุงุก:** $(date)  
**๐ค ุงููุทูุฑ:** Tareq Aljenaidi  
**๐ ุงููููุน:** https://banda-chao.onrender.com (ุจุนุฏ ุงููุดุฑ)

