# ุฅุตูุงุญ ุฎุทุฃ P2022 - ุงูุฃุนูุฏุฉ ุงูููููุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงููุดููุฉ
ุงูุฎุงุฏู ุงูุฎููู ููุดู ุจุณุจุจ ุนุฏู ุชุฒุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน `schema.prisma`. ููุงู ุฃุนูุฏุฉ ููููุฏุฉ ูุซู `video_likes.videoId` ู `products.makerId`.

## ุงูุญู

### ุงูุทุฑููุฉ 1: ุนูู Render (ููุตู ุจู)

1. **ุงุฐูุจ ุฅูู Render Dashboard** โ ุงุฎุชุฑ ุฎุฏูุฉ `banda-chao` (Backend)

2. **ุงูุชุญ Shell/Console** ูู Render

3. **ููุฐ ุงูุฃูุฑ ุงูุชุงูู:**
   ```bash
   cd server
   npx prisma db push --schema=./prisma/schema.prisma --accept-data-loss
   ```

4. **ุงูุชุธุฑ ุฑุณุงูุฉ ุงููุฌุงุญ:**
   ```
   โ Your database is now in sync with your Prisma schema.
   ```

5. **ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู:**
   - ูู Render Dashboard โ Manual Deploy โ Clear build cache & deploy

### ุงูุทุฑููุฉ 2: ูุญููุงู (ุฅุฐุง ูุงู ูุฏูู DATABASE_URL)

1. **ุฃุถู DATABASE_URL ุฅูู ููู `.env` ูู ูุฌูุฏ `server/`:**
   ```bash
   DATABASE_URL="postgresql://user:password@host:port/database"
   ```

2. **ููุฐ ุงูุฃูุฑ:**
   ```bash
   cd server
   npx prisma db push --schema=./prisma/schema.prisma --accept-data-loss
   ```

### ุงูุทุฑููุฉ 3: ุงุณุชุฎุฏุงู npm script

```bash
cd server
npm run db:push
```

ูุฐุง ุงูุฃูุฑ ููุฌูุฏ ูู `package.json` ููุณุชุฎุฏู `--accept-data-loss` ุชููุงุฆูุงู.

## ููุงุญุธุงุช ูููุฉ

- โ๏ธ `--accept-data-loss` ูุฏ ูุญุฐู ุงูุจูุงูุงุช ุฅุฐุง ูุงูุช ููุงู ุชุบููุฑุงุช ูุจูุฑุฉ ูู schema
- โ `db push` ูุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ุฏูู ุฅูุดุงุก migrations
- ๐ ุจุนุฏ `db push`ุ ูุฌุจ ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ูุชุญููู ุงูุชุบููุฑุงุช

## ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุชูููุฐ ุงูุฃูุฑุ ูุฌุจ ุฃู ุชุฑู:
```
โ Your database is now in sync with your Prisma schema.
```

ุฅุฐุง ุฑุฃูุช ุฃุฎุทุงุก P2022ุ ููุฐุง ูุนูู ุฃู ุจุนุถ ุงูุฃุนูุฏุฉ ูุง ุชุฒุงู ููููุฏุฉ. ูู ูุฐู ุงูุญุงูุฉ:
1. ุชุญูู ูู ุฃู `schema.prisma` ูุญุชูู ุนูู ุฌููุน ุงูุญููู ุงููุทููุจุฉ
2. ุชุฃูุฏ ูู ุฃู `@@map` ููุฌูุฏุฉ ุจุดูู ุตุญูุญ
3. ุฃุนุฏ ุชูููุฐ `db push`

